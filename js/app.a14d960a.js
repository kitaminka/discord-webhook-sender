(function(){"use strict";var e={6684:function(e,t,d){var o=d(9242),a=d(3396);function s(e,t,d,o,s,l){const n=(0,a.up)("app-header"),i=(0,a.up)("app-main");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(n),(0,a.Wm)(i)],64)}var l=d(65);const n=e=>((0,a.dD)("data-v-f8f14d0a"),e=e(),(0,a.Cn)(),e),i={class:"app-header"},r=n((()=>(0,a._)("h2",null,"Discord Webhook Sender",-1))),u=[r];function m(e,t,d,o,s,l){return(0,a.wg)(),(0,a.iD)("header",i,u)}var c={name:"AppHeader"},p=d(89);const h=(0,p.Z)(c,[["render",m],["__scopeId","data-v-f8f14d0a"]]);var b=h;const g={class:"main"};function f(e,t,d,o,s,l){const n=(0,a.up)("webhook-settings"),i=(0,a.up)("message-settings"),r=(0,a.up)("embed-settings"),u=(0,a.up)("message-embed-list");return(0,a.wg)(),(0,a.iD)("main",g,[(0,a.Wm)(n),(0,a.Wm)(i),(0,a.Wm)(r),(0,a.Wm)(u)])}var v=d(7139);const w=e=>((0,a.dD)("data-v-6e5037fe"),e=e(),(0,a.Cn)(),e),_={class:"webhook-settings"},k=w((()=>(0,a._)("h3",{class:"header"},"Webhook settings",-1))),I={class:"webhook-url"},U=w((()=>(0,a._)("p",null,"Webhook URL",-1))),E=(0,a.Uk)("Invalid Webhook URL"),x={class:"username"},W=w((()=>(0,a._)("p",null,"Username",-1))),y={class:"avatar-url"},V=w((()=>(0,a._)("p",null,"Avatar URL",-1))),C={class:"buttons"};function M(e,t,d,o,s,l){const n=(0,a.up)("app-input"),i=(0,a.up)("error-message"),r=(0,a.up)("app-button");return(0,a.wg)(),(0,a.iD)("div",_,[k,(0,a._)("div",I,[U,(0,a.Wm)(n,{type:"text",class:"input",placeholder:"https://discord.com/api/webhooks/...",modelValue:l.webhookUrl,"onUpdate:modelValue":t[0]||(t[0]=e=>l.webhookUrl=e)},null,8,["modelValue"]),(0,a.Wm)(i,{show:l.webhookUrlError,class:"error-message"},{default:(0,a.w5)((()=>[E])),_:1},8,["show"])]),(0,a._)("div",x,[W,(0,a.Wm)(n,{type:"text",maxlength:"80",class:"input",placeholder:"Captain Hook",modelValue:l.username,"onUpdate:modelValue":t[1]||(t[1]=e=>l.username=e)},null,8,["modelValue"])]),(0,a._)("div",y,[V,(0,a.Wm)(n,{type:"text",class:"input",placeholder:"https://example.com/avatar.png",modelValue:l.avatarUrl,"onUpdate:modelValue":t[2]||(t[2]=e=>l.avatarUrl=e)},null,8,["modelValue"])]),(0,a._)("div",C,[(0,a.Wm)(r,{class:"button",disabled:l.disableSendButton,onClick:l.sendMessageButton},{default:(0,a.w5)((()=>[(0,a.Uk)((0,v.zw)(s.sendButtonText),1)])),_:1},8,["disabled","onClick"]),(0,a.Wm)(r,{class:"button",disabled:l.disableEditButton,onClick:l.editMessageButton},{default:(0,a.w5)((()=>[(0,a.Uk)((0,v.zw)(s.editButtonText),1)])),_:1},8,["disabled","onClick"]),(0,a.Wm)(r,{class:"button",disabled:l.disableLoadButton,onClick:l.loadMessageButton,variant:"secondary"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,v.zw)(s.loadButtonText),1)])),_:1},8,["disabled","onClick"])])])}function F(e,t,d,o,s,l){return(0,a.wg)(),(0,a.iD)("button",{class:(0,v.C_)(["button",d.variant])},[(0,a.WI)(e.$slots,"default",{},void 0,!0)],2)}var S={name:"AppButton",props:{variant:{type:String,default:"primary"}}};const T=(0,p.Z)(S,[["render",F],["__scopeId","data-v-41fb9404"]]);var D=T;const L=["value","placeholder"];function B(e,t,d,o,s,l){return(0,a.wg)(),(0,a.iD)("input",{value:d.modelValue,placeholder:d.placeholder,onInput:t[0]||(t[0]=(...e)=>l.updateInput&&l.updateInput(...e)),class:"input"},null,40,L)}var A={name:"AppInput",props:["placeholder","modelValue"],methods:{updateInput(e){this.$emit("update:modelValue",e.target.value)}}};const O=(0,p.Z)(A,[["render",B],["__scopeId","data-v-533c034f"]]);var R=O;const j={key:0,class:"error-message"};function Z(e,t,d,s,l,n){return(0,a.wg)(),(0,a.j4)(o.uT,null,{default:(0,a.w5)((()=>[d.show?((0,a.wg)(),(0,a.iD)("p",j,[(0,a.WI)(e.$slots,"default",{},void 0,!0)])):(0,a.kq)("",!0)])),_:3})}var $={name:"ErrorMessage",props:{show:{default:!0}}};const N=(0,p.Z)($,[["render",Z],["__scopeId","data-v-f8cf7bfe"]]);var H=N,P={name:"WebhookSettings",components:{ErrorMessage:H,AppButton:D,AppInput:R},data(){return{sendButtonText:"Send",editButtonText:"Edit",loadButtonText:"Load"}},methods:{...(0,l.nv)(["sendMessage","editMessage","getMessage"]),async sendMessageButton(){if(this.validUrls){this.sendButtonText="Sending...";const e=await this.sendMessage();e.ok?this.sendButtonText="Sent!":this.sendButtonText="Failed!"}else this.sendButtonText="Some of URLs are invalid!";setTimeout((()=>{this.sendButtonText="Send"}),2e3)},async editMessageButton(){if(this.validUrls){this.editButtonText="Editing...";const e=await this.editMessage();e.ok?this.editButtonText="Edited!":this.editButtonText="Failed!"}else this.sendButtonText="Some of URLs are invalid!";setTimeout((()=>{this.editButtonText="Edit"}),2e3)},async loadMessageButton(){this.loadButtonText="Loading...";const e=await this.getMessage();e.ok?this.loadButtonText="Loaded!":this.loadButtonText="Failed!",setTimeout((()=>{this.loadButtonText="Load"}),2e3)}},computed:{...(0,l.rn)(["embeds","webhook","message","validWebhookUrl"]),...(0,l.Se)(["emptyEmbed","validUrls"]),webhookUrlError(){return!this.validWebhookUrl&&0!==this.webhook.url.length},disableSendButton(){for(const e of this.embeds)if(this.emptyEmbed(e.id))return!0;return!this.validWebhookUrl||0===this.message.content.length&&0===this.embeds.length},disableEditButton(){return this.disableSendButton||0===this.message.id.length},disableLoadButton(){return!this.validWebhookUrl||0===this.message.id.length},webhookUrl:{get(){return this.webhook.url},set(e){this.$store.dispatch("updateWebhookUrl",e)}},username:{get(){return this.webhook.username},set(e){this.$store.commit("setUsername",e)}},avatarUrl:{get(){return this.webhook.avatarUrl},set(e){this.$store.commit("setAvatarUrl",e)}}}};const z=(0,p.Z)(P,[["render",M],["__scopeId","data-v-6e5037fe"]]);var J=z;const Y={class:"embed-list"};function q(e,t,d,s,l,n){const i=(0,a.up)("message-embed");return(0,a.wg)(),(0,a.iD)("div",Y,[(0,a.Wm)(o.W3,null,{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.embeds,(e=>((0,a.wg)(),(0,a.j4)(i,{class:"message-embed",key:e.id,embed:e},null,8,["embed"])))),128))])),_:1})])}const K=e=>((0,a.dD)("data-v-405515b4"),e=e(),(0,a.Cn)(),e),G={class:"message-embed"},Q={class:"header-title"},X={class:"embed"},ee={class:"author-name"},te=K((()=>(0,a._)("p",null,"Author name",-1))),de={class:"author-url"},oe=K((()=>(0,a._)("p",null,"Author URL",-1))),ae={class:"author-icon-url"},se=K((()=>(0,a._)("p",null,"Author Icon URL",-1))),le={class:"title"},ne=K((()=>(0,a._)("p",null,"Title",-1))),ie={class:"description"},re=K((()=>(0,a._)("p",null,"Description",-1))),ue={class:"url"},me=K((()=>(0,a._)("p",null,"URL",-1))),ce={class:"color"},pe=K((()=>(0,a._)("p",null,"Color",-1))),he={class:"image-url"},be=K((()=>(0,a._)("p",null,"Image URL",-1))),ge={class:"thumbnail-url"},fe=K((()=>(0,a._)("p",null,"Thumbnail URL",-1))),ve={class:"footer-text"},we=K((()=>(0,a._)("p",null,"Footer text",-1))),_e={class:"footer-icon-url"},ke=K((()=>(0,a._)("p",null,"Footer Icon URL",-1))),Ie=(0,a.Uk)("Embed cannot be empty.");function Ue(e,t,d,s,l,n){const i=(0,a.up)("app-icon"),r=(0,a.up)("embed-buttons"),u=(0,a.up)("app-input"),m=(0,a.up)("app-textarea"),c=(0,a.up)("color-picker"),p=(0,a.up)("embed-field-list"),h=(0,a.up)("error-message");return(0,a.wg)(),(0,a.iD)("div",G,[(0,a._)("div",{class:"header",onClick:t[0]||(t[0]=(...e)=>n.toggleEmbedShow&&n.toggleEmbedShow(...e))},[(0,a._)("div",{class:(0,v.C_)(["icon",{active:l.show}])},[(0,a.Wm)(i,{name:"up"})],2),(0,a._)("h3",Q,(0,v.zw)(d.embed.title.trim()||"Embed"),1),(0,a.Wm)(r,{"embed-id":d.embed.id},null,8,["embed-id"])]),(0,a.Wm)(o.uT,{onEnter:n.enter,onAfterEnter:n.afterEnter,onLeave:n.leave,onAfterLeave:n.afterLeave},{default:(0,a.w5)((()=>[(0,a.wy)((0,a._)("div",X,[(0,a._)("div",ee,[te,(0,a.Wm)(u,{class:"input",modelValue:n.authorName,"onUpdate:modelValue":t[1]||(t[1]=e=>n.authorName=e),placeholder:"Some author"},null,8,["modelValue"])]),(0,a._)("div",de,[oe,(0,a.Wm)(u,{class:"input",modelValue:n.authorUrl,"onUpdate:modelValue":t[2]||(t[2]=e=>n.authorUrl=e),placeholder:"https://example.com/"},null,8,["modelValue"])]),(0,a._)("div",ae,[se,(0,a.Wm)(u,{class:"input",modelValue:n.authorIconUrl,"onUpdate:modelValue":t[3]||(t[3]=e=>n.authorIconUrl=e),placeholder:"https://example.com/icon.png"},null,8,["modelValue"])]),(0,a._)("div",le,[ne,(0,a.Wm)(u,{class:"input",modelValue:n.title,"onUpdate:modelValue":t[4]||(t[4]=e=>n.title=e),placeholder:"Some title",maxlength:"256"},null,8,["modelValue"])]),(0,a._)("div",ie,[re,(0,a.Wm)(m,{class:"textarea",modelValue:n.description,"onUpdate:modelValue":t[5]||(t[5]=e=>n.description=e),placeholder:"Some description",maxlength:"4096"},null,8,["modelValue"])]),(0,a._)("div",ue,[me,(0,a.Wm)(u,{class:"input",modelValue:n.url,"onUpdate:modelValue":t[6]||(t[6]=e=>n.url=e),placeholder:"https://example.com/"},null,8,["modelValue"])]),(0,a._)("div",ce,[pe,(0,a.Wm)(c,{class:"color-picker",modelValue:l.color,"onUpdate:modelValue":t[7]||(t[7]=e=>l.color=e),onFocusout:n.updateColor},null,8,["modelValue","onFocusout"])]),(0,a._)("div",he,[be,(0,a.Wm)(u,{class:"input",modelValue:n.imageUrl,"onUpdate:modelValue":t[8]||(t[8]=e=>n.imageUrl=e),placeholder:"https://example.com/image.png"},null,8,["modelValue"])]),(0,a._)("div",ge,[fe,(0,a.Wm)(u,{class:"input",modelValue:n.thumbnailUrl,"onUpdate:modelValue":t[9]||(t[9]=e=>n.thumbnailUrl=e),placeholder:"https://example.com/image.png"},null,8,["modelValue"])]),(0,a._)("div",ve,[we,(0,a.Wm)(u,{class:"input",modelValue:n.footerText,"onUpdate:modelValue":t[10]||(t[10]=e=>n.footerText=e),placeholder:"Some footer"},null,8,["modelValue"])]),(0,a._)("div",_e,[ke,(0,a.Wm)(u,{class:"input",modelValue:n.footerIconUrl,"onUpdate:modelValue":t[11]||(t[11]=e=>n.footerIconUrl=e),placeholder:"https://example.com/image.png"},null,8,["modelValue"])]),(0,a.Wm)(p,{class:"field-list","embed-id":d.embed.id,fields:d.embed.fields},null,8,["embed-id","fields"]),(0,a.Wm)(h,{show:n.emptyEmbedError},{default:(0,a.w5)((()=>[Ie])),_:1},8,["show"])],512),[[o.F8,l.show]])])),_:1},8,["onEnter","onAfterEnter","onLeave","onAfterLeave"])])}const Ee=["value","placeholder","maxlength"];function xe(e,t,d,o,s,l){return(0,a.wg)(),(0,a.iD)("textarea",{value:d.modelValue,placeholder:d.placeholder,onInput:t[0]||(t[0]=(...e)=>l.updateTextarea&&l.updateTextarea(...e)),class:"textarea",maxlength:d.maxlength},"\n  ",40,Ee)}var We={name:"AppTextarea",props:["placeholder","maxlength","modelValue"],methods:{updateTextarea(e){this.$emit("update:modelValue",e.target.value)}}};const ye=(0,p.Z)(We,[["render",xe],["__scopeId","data-v-e5975852"]]);var Ve=ye;const Ce={class:"color-picker"},Me=["value"],Fe=["value"];function Se(e,t,d,o,s,l){return(0,a.wg)(),(0,a.iD)("div",Ce,[(0,a._)("input",{class:"picker",type:"color",value:d.modelValue,onInput:t[0]||(t[0]=(...e)=>l.updateInput&&l.updateInput(...e))},null,40,Me),(0,a._)("input",{class:"color-input",type:"text",value:d.modelValue,onInput:t[1]||(t[1]=(...e)=>l.updateInput&&l.updateInput(...e))},null,40,Fe)])}var Te={name:"ColorPicker",props:["modelValue"],methods:{updateInput(e){this.$emit("update:modelValue",e.target.value)}}};const De=(0,p.Z)(Te,[["render",Se],["__scopeId","data-v-0369bcd8"]]);var Le=De;function Be(e,t,d,s,l,n){const i=(0,a.up)("app-icon"),r=(0,a.up)("app-button");return(0,a.wg)(),(0,a.iD)("div",{class:"embed-buttons",onClick:t[3]||(t[3]=(0,o.iM)((()=>{}),["stop"]))},[(0,a.Wm)(r,{class:"button",variant:"secondary",onClick:t[0]||(t[0]=t=>e.moveEmbedUp(d.embedId))},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{name:"up"})])),_:1}),(0,a.Wm)(r,{class:"button",variant:"secondary",onClick:t[1]||(t[1]=t=>e.moveEmbedDown(d.embedId))},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{name:"down"})])),_:1}),(0,a.Wm)(r,{class:"button",variant:"danger",onClick:t[2]||(t[2]=t=>e.deleteEmbed(d.embedId))},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{name:"delete"})])),_:1})])}const Ae={key:0,width:"20",height:"20",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Oe=(0,a._)("path",{d:"M12 10L8 6L4 10",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),Re=[Oe],je={key:1,width:"20",height:"20",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ze=(0,a._)("g",{transform:"rotate(180 8 8)"},[(0,a._)("path",{d:"M12 10L8 6L4 10",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),$e=[Ze],Ne={key:2,width:"20",height:"20",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",fill:"none"},He=(0,a._)("path",{d:"M19 6L5 6M14 5L10 5M6 10L6 20C6 20.6666667 6.33333333 21 7 21 7.66666667 21 11 21 17 21 17.6666667 21 18 20.6666667 18 20 18 19.3333333 18 16 18 10"},null,-1),Pe=[He];function ze(e,t,d,o,s,l){return"up"===d.name?((0,a.wg)(),(0,a.iD)("svg",Ae,Re)):"down"===d.name?((0,a.wg)(),(0,a.iD)("svg",je,$e)):"delete"===d.name?((0,a.wg)(),(0,a.iD)("svg",Ne,Pe)):(0,a.kq)("",!0)}var Je={name:"AppIcon",props:["name"]};const Ye=(0,p.Z)(Je,[["render",ze]]);var qe=Ye,Ke={name:"EmbedButtons",components:{AppButton:D,AppIcon:qe},props:["embedId"],methods:{...(0,l.OI)(["deleteEmbed","moveEmbedUp","moveEmbedDown"])}};const Ge=(0,p.Z)(Ke,[["render",Be],["__scopeId","data-v-11b48ba1"]]);var Qe=Ge;const Xe=e=>((0,a.dD)("data-v-3e721d84"),e=e(),(0,a.Cn)(),e),et={class:"field-list"},tt=Xe((()=>(0,a._)("h3",{class:"header"},"Fields",-1))),dt={class:"buttons"},ot=(0,a.Uk)("Create field"),at=(0,a.Uk)("Delete all fields"),st={class:"fields"};function lt(e,t,d,s,l,n){const i=(0,a.up)("app-button"),r=(0,a.up)("embed-field");return(0,a.wg)(),(0,a.iD)("div",et,[tt,(0,a._)("div",dt,[(0,a.Wm)(i,{onClick:t[0]||(t[0]=t=>e.createField(d.embedId)),disabled:n.disableCreateField},{default:(0,a.w5)((()=>[ot])),_:1},8,["disabled"]),(0,a.Wm)(i,{onClick:t[1]||(t[1]=t=>e.deleteEmbedFields(d.embedId)),disabled:n.disableDeleteFields,variant:"danger"},{default:(0,a.w5)((()=>[at])),_:1},8,["disabled"])]),(0,a._)("div",st,[(0,a.Wm)(o.W3,null,{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.fields,(e=>((0,a.wg)(),(0,a.j4)(r,{class:"field","embed-id":d.embedId,field:e,key:e.id},null,8,["embed-id","field"])))),128))])),_:1})])])}const nt=e=>((0,a.dD)("data-v-cd87d224"),e=e(),(0,a.Cn)(),e),it={class:"field"},rt={class:"header"},ut={class:"name"},mt=nt((()=>(0,a._)("p",null,"Name",-1))),ct={class:"value"},pt=nt((()=>(0,a._)("p",null,"Value",-1)));function ht(e,t,d,o,s,l){const n=(0,a.up)("field-buttons"),i=(0,a.up)("app-input"),r=(0,a.up)("app-textarea");return(0,a.wg)(),(0,a.iD)("div",it,[(0,a._)("div",rt,[(0,a._)("h3",null,(0,v.zw)(d.field.name.trim()||"Field"),1),(0,a.Wm)(n,{"embed-id":d.embedId,"field-id":d.field.id},null,8,["embed-id","field-id"])]),(0,a._)("div",ut,[mt,(0,a.Wm)(i,{class:"input",placeholder:"Some name",modelValue:l.name,"onUpdate:modelValue":t[0]||(t[0]=e=>l.name=e),maxlength:"256"},null,8,["modelValue"])]),(0,a._)("div",ct,[pt,(0,a.Wm)(r,{class:"textarea",placeholder:"Some value",modelValue:l.value,"onUpdate:modelValue":t[1]||(t[1]=e=>l.value=e),maxlength:"1024"},null,8,["modelValue"])])])}const bt={class:"field-buttons"};function gt(e,t,d,o,s,l){const n=(0,a.up)("app-icon"),i=(0,a.up)("app-button");return(0,a.wg)(),(0,a.iD)("div",bt,[(0,a.Wm)(i,{class:"button",variant:"secondary",onClick:t[0]||(t[0]=t=>e.moveFieldUp({embedId:d.embedId,fieldId:d.fieldId}))},{default:(0,a.w5)((()=>[(0,a.Wm)(n,{name:"up"})])),_:1}),(0,a.Wm)(i,{class:"button",variant:"secondary",onClick:t[1]||(t[1]=t=>e.moveFieldDown({embedId:d.embedId,fieldId:d.fieldId}))},{default:(0,a.w5)((()=>[(0,a.Wm)(n,{name:"down"})])),_:1}),(0,a.Wm)(i,{class:"button",variant:"danger",onClick:t[2]||(t[2]=t=>e.deleteField({embedId:d.embedId,fieldId:d.fieldId}))},{default:(0,a.w5)((()=>[(0,a.Wm)(n,{name:"delete"})])),_:1})])}var ft={name:"FieldButtons",components:{AppButton:D,AppIcon:qe},props:["embedId","fieldId"],methods:{...(0,l.OI)(["moveFieldUp","moveFieldDown","updateField","deleteField"])}};const vt=(0,p.Z)(ft,[["render",gt],["__scopeId","data-v-3f4eb718"]]);var wt=vt,_t={name:"EmbedField",components:{FieldButtons:wt,AppTextarea:Ve,AppInput:R},props:["embedId","field"],methods:{...(0,l.OI)(["moveFieldUp","moveFieldDown","updateField","deleteField"])},computed:{name:{get(){return this.field.name},set(e){this.updateField({embedId:this.embedId,fieldId:this.field.id,name:e})}},value:{get(){return this.field.value},set(e){this.updateField({embedId:this.embedId,fieldId:this.field.id,value:e})}}}};const kt=(0,p.Z)(_t,[["render",ht],["__scopeId","data-v-cd87d224"]]);var It=kt,Ut={name:"FieldList",components:{EmbedField:It,AppButton:D},props:["embedId"],methods:{...(0,l.OI)(["createField","deleteEmbedFields"])},computed:{...(0,l.Se)(["embedFieldArray"]),fields(){return this.embedFieldArray(this.embedId)},disableCreateField(){return this.fields.length>=25},disableDeleteFields(){return this.fields.length<=0}}};const Et=(0,p.Z)(Ut,[["render",lt],["__scopeId","data-v-3e721d84"]]);var xt=Et,Wt={name:"MessageEmbed",components:{AppIcon:qe,EmbedButtons:Qe,EmbedFieldList:xt,ColorPicker:Le,AppTextarea:Ve,ErrorMessage:H,AppInput:R},created(){this.color=`#${this.embed.color.toString(16).padStart(6,"0")}`},data(){return{color:"#000000",show:!1,transitioning:!1}},props:["embed"],methods:{...(0,l.OI)(["moveEmbedUp","moveEmbedDown","deleteEmbed","updateEmbed","createField","deleteEmbedFields"]),updateColor(){const e=parseInt(this.color.substring(1),16);!isNaN(e)&&e<=16777215&&this.color.length<=7?this.updateEmbed({id:this.embed.id,color:e}):this.color=`#${this.embed.color.toString(16).padStart(6,"0")}`},toggleEmbedShow(){this.transitioning||(this.transitioning=!0,this.show=!this.show)},enter(e){e.style.height="auto";const t=getComputedStyle(e).height;e.style.height=0,getComputedStyle(e),setTimeout((()=>{e.style.height=t}))},afterEnter(e){e.style.height="auto",this.transitioning=!1},leave(e){e.style.height=getComputedStyle(e).height,getComputedStyle(e),setTimeout((()=>{e.style.height=0}))},afterLeave(){this.transitioning=!1}},computed:{...(0,l.rn)(["validWebhookUrl"]),...(0,l.Se)(["emptyEmbed"]),emptyEmbedError(){return this.emptyEmbed(this.embed.id)},title:{get(){return this.embed.title},set(e){this.updateEmbed({id:this.embed.id,title:e})}},description:{get(){return this.embed.description},set(e){this.updateEmbed({id:this.embed.id,description:e})}},url:{get(){return this.embed.url},set(e){this.updateEmbed({id:this.embed.id,url:e})}},authorName:{get(){return this.embed.author.name},set(e){this.updateEmbed({id:this.embed.id,author:{name:e}})}},authorUrl:{get(){return this.embed.author.url},set(e){this.updateEmbed({id:this.embed.id,author:{url:e}})}},authorIconUrl:{get(){return this.embed.author.icon_url},set(e){this.updateEmbed({id:this.embed.id,author:{icon_url:e}})}},imageUrl:{get(){return this.embed.image.url},set(e){this.updateEmbed({id:this.embed.id,image:{url:e}})}},thumbnailUrl:{get(){return this.embed.thumbnail.url},set(e){this.updateEmbed({id:this.embed.id,thumbnail:{url:e}})}},footerText:{get(){return this.embed.footer.text},set(e){this.updateEmbed({id:this.embed.id,footer:{text:e}})}},footerIconUrl:{get(){return this.embed.footer.icon_url},set(e){this.updateEmbed({id:this.embed.id,footer:{icon_url:e}})}},disableCreateField(){return this.embed.fields.length>=25},disableDeleteFields(){return this.embed.fields.length<=0}}};const yt=(0,p.Z)(Wt,[["render",Ue],["__scopeId","data-v-405515b4"]]);var Vt=yt,Ct={name:"EmbedList",components:{MessageEmbed:Vt},computed:{...(0,l.rn)(["embeds"])}};const Mt=(0,p.Z)(Ct,[["render",q],["__scopeId","data-v-6817f5fd"]]);var Ft=Mt;const St=e=>((0,a.dD)("data-v-4050de7a"),e=e(),(0,a.Cn)(),e),Tt={class:"message-settings"},Dt=St((()=>(0,a._)("h3",{class:"header"},"Message settings",-1))),Lt={class:"message-id"},Bt=St((()=>(0,a._)("p",null,"Message ID or URL",-1))),At={class:"content"},Ot=St((()=>(0,a._)("p",null,"Content",-1))),Rt=(0,a.Uk)("Content cannot be empty.");function jt(e,t,d,o,s,l){const n=(0,a.up)("app-input"),i=(0,a.up)("app-textarea"),r=(0,a.up)("error-message");return(0,a.wg)(),(0,a.iD)("div",Tt,[Dt,(0,a._)("div",Lt,[Bt,(0,a.Wm)(n,{type:"text",class:"input",placeholder:"https://discord.com/channels/...",onFocusout:e.extractMessageId,modelValue:l.messageId,"onUpdate:modelValue":t[0]||(t[0]=e=>l.messageId=e)},null,8,["onFocusout","modelValue"])]),(0,a._)("div",At,[Ot,(0,a.Wm)(i,{class:"textarea",placeholder:"Some text",maxlength:"2000",modelValue:l.content,"onUpdate:modelValue":t[1]||(t[1]=e=>l.content=e)},null,8,["modelValue"]),(0,a.Wm)(r,{show:l.emptyContentError},{default:(0,a.w5)((()=>[Rt])),_:1},8,["show"])])])}var Zt={name:"MessageSettings",components:{AppInput:R,ErrorMessage:H,AppTextarea:Ve},methods:{...(0,l.OI)(["setMessageId","setContent","extractMessageId"])},computed:{...(0,l.rn)(["webhook","message","embeds","validWebhookUrl"]),emptyContentError(){return 0===this.message.content.length&&0===this.embeds.length},messageId:{get(){return this.message.id},set(e){this.setMessageId(e)}},content:{get(){return this.message.content},set(e){this.setContent(e)}}}};const $t=(0,p.Z)(Zt,[["render",jt],["__scopeId","data-v-4050de7a"]]);var Nt=$t;const Ht=e=>((0,a.dD)("data-v-6dc77cfe"),e=e(),(0,a.Cn)(),e),Pt={class:"embed-settings"},zt=Ht((()=>(0,a._)("h3",{class:"header"},"Embed settings",-1))),Jt={class:"buttons"},Yt=(0,a.Uk)("Create embed"),qt=(0,a.Uk)("Delete all embeds");function Kt(e,t,d,o,s,l){const n=(0,a.up)("app-button");return(0,a.wg)(),(0,a.iD)("div",Pt,[zt,(0,a._)("div",Jt,[(0,a.Wm)(n,{onClick:e.createEmbed,disabled:l.disableCreateEmbed},{default:(0,a.w5)((()=>[Yt])),_:1},8,["onClick","disabled"]),(0,a.Wm)(n,{onClick:e.deleteAllEmbeds,disabled:l.disableDeleteEmbeds,variant:"danger"},{default:(0,a.w5)((()=>[qt])),_:1},8,["onClick","disabled"])])])}var Gt={name:"EmbedSettings",components:{AppButton:D},methods:{...(0,l.OI)(["createEmbed","deleteAllEmbeds","updateEmbed"])},computed:{...(0,l.rn)(["embeds"]),disableCreateEmbed(){return this.embeds.length>=10},disableDeleteEmbeds(){return this.embeds.length<=0}}};const Qt=(0,p.Z)(Gt,[["render",Kt],["__scopeId","data-v-6dc77cfe"]]);var Xt=Qt,ed={name:"AppMain",components:{EmbedSettings:Xt,MessageSettings:Nt,MessageEmbedList:Ft,WebhookSettings:J}};const td=(0,p.Z)(ed,[["render",f],["__scopeId","data-v-c3073408"]]);var dd=td,od={name:"App",components:{AppHeader:b,AppMain:dd},computed:{...(0,l.rn)(["message","embeds"])},methods:{...(0,l.nv)(["saveMessageToLocalStorage","loadMessageFromLocalStorage"])},watch:{message:{handler(){this.saveMessageToLocalStorage()},deep:!0},embeds:{handler(){this.saveMessageToLocalStorage()},deep:!0}},beforeMount(){this.loadMessageFromLocalStorage()}};const ad=(0,p.Z)(od,[["render",s]]);var sd=ad,ld=(d(7658),(0,l.MT)({state(){return{validWebhookUrl:!1,webhook:{url:"",username:"",avatarUrl:""},message:{id:"",content:""},embeds:[]}},getters:{webhookMessage:e=>({content:e.message.content,username:e.webhook.username||void 0,avatar_url:e.webhook.avatarUrl||void 0,embeds:e.embeds}),embedFieldArray:e=>t=>e.embeds.find((e=>e.id===t)).fields,emptyEmbed:e=>t=>{const d=e.embeds.find((e=>e.id===t));return 0===d.title.trim().length&&0===d.description.trim().length&&0===d.author.name.trim().length&&0===d.image.url.trim().length&&0===d.thumbnail.url.trim().length&&0===d.footer.text.trim().length&&0===d.footer.icon_url.trim().length&&0===d.fields.length},validUrls(e){try{e.webhook.avatarUrl&&new URL(e.webhook.avatarUrl);for(const t of e.embeds)t.url&&new URL(t.url),t.author.url&&new URL(t.author.url),t.author.icon_url&&new URL(t.author.icon_url),t.footer.icon_url&&new URL(t.footer.icon_url),t.image.url&&new URL(t.image.url),t.thumbnail.url&&new URL(t.thumbnail.url);return!0}catch{return!1}}},mutations:{setMessageId(e,t){e.message.id=t},extractMessageId(e){const t=e.message.id.match(/https:\/\/discord.com\/channels\/[0-9]+\/[0-9]+\/([0-9]+)/);t&&(e.message.id=t[1])},setContent(e,t){e.message.content=t},setWebhookUrl(e,t){e.webhook.url=t},setValidWebhookUrl(e,t){e.validWebhookUrl=t},setUsername(e,t){e.webhook.username=t},setAvatarUrl(e,t){e.webhook.avatarUrl=t},createEmbed(e,t){e.embeds.length<10&&e.embeds.push({id:Date.now(),title:t.title||"",description:t.description||"",url:t.url||"",color:t.color||0,author:{name:t.author?.name||"",url:t.author?.url||"",icon_url:t.author?.icon_url||""},footer:{text:t.footer?.text||"",icon_url:t.footer?.icon_url||""},image:{url:t.image?.url||""},thumbnail:{url:t.thumbnail?.url||""},fields:t.fields||[]})},updateEmbed(e,t){const d=e.embeds.findIndex((e=>e.id===t.id));if(d>-1){const o=e.embeds[d];e.embeds[d]={...o,...t,author:{...o.author,...t.author},footer:{...o.footer,...t.footer},image:{...o.image,...t.image},thumbnail:{...o.thumbnail,...t.thumbnail}}}},moveEmbedUp(e,t){const d=e.embeds.findIndex((e=>e.id===t));if(d>0){const t=e.embeds[d];e.embeds[d]=e.embeds[d-1],e.embeds[d-1]=t}},moveEmbedDown(e,t){const d=e.embeds.findIndex((e=>e.id===t));if(d<e.embeds.length-1){const t=e.embeds[d];e.embeds[d]=e.embeds[d+1],e.embeds[d+1]=t}},deleteEmbed(e,t){e.embeds=e.embeds.filter((e=>e.id!==t))},deleteAllEmbeds(e){e.embeds=[]},createField(e,t){const d=e.embeds.find((e=>e.id===t));d.fields.length<25&&d.fields.push({id:Date.now(),name:"",value:"",inline:!1})},updateField(e,{embedId:t,fieldId:d,name:o,value:a}){const s=e.embeds.find((e=>e.id===t)),l=s.fields.findIndex((e=>e.id===d));l>-1&&(void 0!==o&&(s.fields[l].name=o),void 0!==a&&(s.fields[l].value=a))},moveFieldUp(e,{embedId:t,fieldId:d}){const o=e.embeds.find((e=>e.id===t)),a=o.fields.findIndex((e=>e.id===d));if(a>0){const e=o.fields[a];o.fields[a]=o.fields[a-1],o.fields[a-1]=e}},moveFieldDown(e,{embedId:t,fieldId:d}){const o=e.embeds.find((e=>e.id===t)),a=o.fields.findIndex((e=>e.id===d));if(a<o.fields.length-1){const e=o.fields[a];o.fields[a]=o.fields[a+1],o.fields[a+1]=e}},deleteField(e,{embedId:t,fieldId:d}){const o=e.embeds.find((e=>e.id===t));o.fields=o.fields.filter((e=>e.id!==d))},deleteEmbedFields(e,t){e.embeds.find((e=>e.id===t)).fields=[]}},actions:{async updateWebhookUrl({commit:e},t){t.match(/https:\/\/discord.com\/api\/webhooks\/[0-9]+\/.+/)?e("setValidWebhookUrl",(await fetch(t)).ok):e("setValidWebhookUrl",!1),e("setWebhookUrl",t)},async sendMessage({state:e,getters:t,commit:d}){const o=await fetch(e.webhook.url+"?wait=true",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t.webhookMessage)});if(o.ok){const e=await o.json();d("setMessageId",e.id)}return o},async editMessage({state:e,getters:t}){return await fetch(`${e.webhook.url}/messages/${e.message.id}`,{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t.webhookMessage)})},async getMessage({state:e,dispatch:t}){const d=await fetch(`${e.webhook.url}/messages/${e.message.id}`);if(d.ok){const e=await d.json();t("loadMessage",e)}return d},loadMessage({commit:e,dispatch:t},d){e("setContent",d.content),e("deleteAllEmbeds"),t("loadEmbeds",d.embeds)},loadEmbeds({commit:e},t){for(const d of t)e("createEmbed",d)},saveMessageToLocalStorage({getters:e}){localStorage.setItem("lastMessage",JSON.stringify(e.webhookMessage))},loadMessageFromLocalStorage({dispatch:e}){try{const t=JSON.parse(localStorage.getItem("lastMessage"));t&&e("loadMessage",t)}catch{console.log("Failed to load message from local storage")}}}}));(0,o.ri)(sd).use(ld).mount("#app")}},t={};function d(o){var a=t[o];if(void 0!==a)return a.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,d),s.exports}d.m=e,function(){var e=[];d.O=function(t,o,a,s){if(!o){var l=1/0;for(u=0;u<e.length;u++){o=e[u][0],a=e[u][1],s=e[u][2];for(var n=!0,i=0;i<o.length;i++)(!1&s||l>=s)&&Object.keys(d.O).every((function(e){return d.O[e](o[i])}))?o.splice(i--,1):(n=!1,s<l&&(l=s));if(n){e.splice(u--,1);var r=a();void 0!==r&&(t=r)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[o,a,s]}}(),function(){d.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return d.d(t,{a:t}),t}}(),function(){d.d=function(e,t){for(var o in t)d.o(t,o)&&!d.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){d.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};d.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,s,l=o[0],n=o[1],i=o[2],r=0;if(l.some((function(t){return 0!==e[t]}))){for(a in n)d.o(n,a)&&(d.m[a]=n[a]);if(i)var u=i(d)}for(t&&t(o);r<l.length;r++)s=l[r],d.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return d.O(u)},o=self["webpackChunkdiscord_webhook_sender"]=self["webpackChunkdiscord_webhook_sender"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=d.O(void 0,[998],(function(){return d(6684)}));o=d.O(o)})();
//# sourceMappingURL=app.a14d960a.js.map